<?xml version="1.0" ?>
<sdf version="1.8">
  <model name="mir_robot" canonical_link="chassis">
    <link name="chassis">
      <pose relative_to="__model__">0 0 0 0 0 0</pose>
      <inertial>
        <mass>40.0</mass>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="chassis_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/mir_100_base.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 1.0 1.0</diffuse>
          <specular>1.0 1.0 1.0</specular>
        </material>
      </visual>
      <!-- <collision name="chassis_collision"> -->
      <!--   <geometry> -->
      <!--     <mesh> -->
      <!--       <uri>model://meshes/visual/mir_100_base.stl</uri> -->
      <!--       <scale>1 1 1</scale> -->
      <!--     </mesh> -->
      <!--   </geometry> -->
      <!-- </collision> -->
      
    </link>
    <link name="fl_caster">
      <pose relative_to="chassis">0.3037 0.203 0.1565 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="fl_caster_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/caster_wheel_base.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </visual>
      <!-- <collision name="fl_caster_collision"> -->
      <!--   <geometry> -->
      <!--     <mesh> -->
      <!--       <uri>model://meshes/visual/caster_wheel_base.stl</uri> -->
      <!--       <scale>1 1 1</scale> -->
      <!--     </mesh> -->
      <!--   </geometry> -->
      <!-- </collision>       -->
    </link>
    <link name="fr_caster">
      <pose relative_to="chassis">0.3037 -0.203 0.1565 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="fr_caster_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/caster_wheel_base.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </visual>
      <!-- <collision name="fr_caster_collision"> -->
      <!--   <geometry> -->
      <!--     <mesh> -->
      <!--       <uri>model://meshes/visual/caster_wheel_base.stl</uri> -->
      <!--       <scale>1 1 1</scale> -->
      <!--     </mesh> -->
      <!--   </geometry> -->
      <!-- </collision>       -->
    </link>
    <link name="bl_caster">
      <pose relative_to="chassis">-0.3037 0.203 0.1565 0 0 0</pose>
      <inertial>
        <mass>5</mass>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="bl_caster_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/caster_wheel_base.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </visual>
      <!-- <collision name="bl_caster_collision"> -->
      <!--   <geometry> -->
      <!--     <mesh> -->
      <!--       <uri>model://meshes/visual/caster_wheel_base.stl</uri> -->
      <!--       <scale>1 1 1</scale> -->
      <!--     </mesh> -->
      <!--   </geometry> -->
      <!-- </collision>       -->
    </link>
    <link name="br_caster">
      <pose relative_to="chassis">-0.3037 -0.203 0.1565 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="br_caster_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/caster_wheel_base.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </visual>
      <!-- <collision name="br_caster_collision"> -->
      <!--   <geometry> -->
      <!--     <mesh> -->
      <!--       <uri>model://meshes/visual/caster_wheel_base.stl</uri> -->
      <!--       <scale>1 1 1</scale> -->
      <!--     </mesh> -->
      <!--   </geometry> -->
      <!-- </collision>       -->
    </link>
    <link name="fl_wheel">
      <pose relative_to="fl_caster">-0.0382 0 -0.094 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
        </inertial>
      <visual name="fl_wheel_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="fl_wheel_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link>
    <link name="fr_wheel">
      <pose relative_to="fr_caster">-0.0382 0 -0.094 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
        </inertial>
      <visual name="fr_wheel_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="fr_wheel_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link>
    <link name="bl_wheel">
      <pose relative_to="bl_caster">-0.0382 0 -0.094 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
        </inertial>
      <visual name="bl_wheel_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="bl_wheel_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link>
    <link name="br_wheel">
      <pose relative_to="br_caster">-0.0382 0 -0.094 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="br_wheel_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="br_wheel_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link>
    <link name="l_act_wheel">
      <pose relative_to="chassis">-0.03 0.2226 0.0625 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="l_act_wheel_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="l_act_wheel_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link> 
    <link name="r_act_wheel">
      <pose relative_to="chassis">-0.03 -0.2226 0.0625 0 0 0</pose>
      <inertial>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="r_act_wheel_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="r_act_wheel_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/visual/wheel.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link> 
  
    <link name="closset">
      <pose relative_to="chassis">0.0 -0.02 0.3 3.1415 0 0</pose>
      <inertial>
        <mass>1</mass>
        <inertia>
          <ixx>0.2</ixx>
          <ixy>0.0</ixy>
          <ixz>0.0</ixz>
          <iyy>0.2</iyy>
          <iyz>0.0</iyz>
          <izz>0.2</izz>
        </inertia>
      </inertial>
      <visual name="closset_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/lh_10_body.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>1.0 0.0 0.0</diffuse>
          <specular>1.0 0.0 0.0</specular>
        </material>
      </visual>
      <collision name="closset_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/lh_10_body.stl</uri>
            <scale>1 1 1</scale>
          </mesh>
        </geometry>
      </collision>
    </link> 
    
    <link name="f_laser_link">
      <pose relative_to="chassis">0.392 0.2358 0.1914 3.1415 0 0.79</pose>
      <visual name="laser_link_visual">
        <visibility_flags>0</visibility_flags>
        <geometry>
          <mesh>
            <uri>model://meshes/visual/sick_lms-100.stl</uri>
            <scale>1 1 1</scale>'

          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>0.5 0.5 0.5</diffuse>
          <specular>0.5 0.5 0.5</specular>
        </material>

      </visual>

      <frame name="f_lidar_frame" attached_to="chassis">
        <pose> 0.392 0.2358 0.1914 0 0 0</pose>
      </frame>

      <sensor name='gpu_lidar' type='gpu_lidar'>
        <pose relative_to='f_lidar_frame'>0 0 0 0 0 0</pose>
        <topic>f_scan</topic>
        <update_rate>12.5</update_rate>
        <ray>
          <scan>
            <horizontal>
              <samples>541</samples>
              <resolution>1</resolution>
              <min_angle>-1.396263</min_angle>
              <max_angle>1.396263</max_angle>
            </horizontal>
            <vertical>
              <samples>1</samples>
              <resolution>0.01</resolution>
              <min_angle>0</min_angle>
              <max_angle>0</max_angle>
            </vertical>
          </scan>
          <range>
            <min>0.00001</min>
            <max>29.0</max>
            <resolution>0.01</resolution>
          </range>
        </ray>
        <always_on>1</always_on>
        <visualize>true</visualize>
      </sensor>
    </link> 


    <link name="b_laser_link">
      <pose relative_to="chassis">-0.392 -0.2358 0.1914 3.1415 0 3.92</pose>
      <visual name="laser_link_visual">
        <visibility_flags>0</visibility_flags>
        <geometry>
          <mesh>
            <uri>model://meshes/visual/sick_lms-100.stl</uri>
            <scale>1 1 1</scale>'

          </mesh>
        </geometry>
        <material>
          <ambient>0.5 0.5 0.5</ambient>
          <diffuse>0.5 0.5 0.5</diffuse>
          <specular>0.5 0.5 0.5</specular>
        </material>

      </visual>

      <frame name="b_lidar_frame" attached_to="chassis">
        <pose> -0.392 -0.2358 0.1914 0 0 0</pose>
      </frame>

      <sensor name='gpu_lidar' type='gpu_lidar'>
        <pose relative_to='b_lidar_frame'>0 0 0 0 0 0</pose>
        <topic>b_scan</topic>
        <update_rate>12.5</update_rate>
        <ray>
          <scan>
            <horizontal>
              <samples>541</samples>
              <resolution>1</resolution>
              <min_angle>-2.35619449615</min_angle>
              <max_angle>2.35619449615</max_angle>
            </horizontal>
            <vertical>
              <samples>1</samples>
              <resolution>0.01</resolution>
              <min_angle>0</min_angle>
              <max_angle>0</max_angle>
            </vertical>
          </scan>
          <range>
            <min>0.0001</min>
            <max>29.0</max>
            <resolution>0.01</resolution>
          </range>
          <!-- <noise> -->
          <!--   <type>gaussian</type> -->
          <!--   <!-- Noise parameters based on published spec for S300 achieving -->
          <!--        "+-29mm" accuracy at range < 3m (~0.01 of the range) at -->
          <!--        1 sigma. --> -->
          <!--   <mean>0.0</mean> -->
          <!--   <stddev>0.01</stddev> -->
          <!-- </noise> -->
        </ray>
        <always_on>1</always_on>
        <visualize>true</visualize>
      </sensor>
    </link> 


<!-- ur robot  -->
    <link name="base_link">
      <pose relative_to="chassis">0.25 0.11 0.98 0 0 0</pose> -->
      <inertial>
        <mass>4</mass>
        <inertia>
          <ixx>0.00443333</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.00443333</iyy>
          <iyz>0</iyz>
          <izz>0.0072</izz>
        </inertia>
      </inertial>
      <collision name="base_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/base.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="base_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/base.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name="shoulder_pan_joint" type="revolute">
      <pose relative_to="base_link">0 0 0.089159 0 -0 0</pose>
      <parent>base_link</parent>
      <child>shoulder_link</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-6.28319</lower>
          <upper>6.28319</upper>
          <effort>150</effort>
          <velocity>3.15</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name="shoulder_link">
      <pose relative_to="shoulder_pan_joint">0 0 0 0 -0 0</pose>
      <inertial>
        <mass>3.7</mass>
        <inertia>
          <ixx>0.0102675</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0102675</iyy>
          <iyz>0</iyz>
          <izz>0.00666</izz>
        </inertia>
      </inertial>
      <collision name="shoulder_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/shoulder.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="shoulder_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/shoulder.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <self_collide>1</self_collide>
    </link>
    <joint name="shoulder_lift_joint" type="revolute">
      <pose relative_to="shoulder_link">0 0.13585 0 0 1.5708 0</pose>
      <parent>shoulder_link</parent>
      <child>upper_arm_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-6.28319</lower>
          <upper>6.28319</upper>
          <effort>150</effort>
          <velocity>3.15</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name="upper_arm_link">
      <pose relative_to="shoulder_lift_joint">0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0.28 0 -0 0</pose>
        <mass>8.393</mass>
        <inertia>
          <ixx>0.226891</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.226891</iyy>
          <iyz>0</iyz>
          <izz>0.0151074</izz>
        </inertia>
      </inertial>
      <collision name="upper_arm_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/upperarm.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="upper_arm_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/upperarm.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <self_collide>1</self_collide>
    </link>
    <joint name="elbow_joint" type="revolute">
      <pose relative_to="upper_arm_link">0 -0.1197 0.425 0 -0 0</pose>
      <parent>upper_arm_link</parent>
      <child>forearm_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-3.14159</lower>
          <upper>3.14159</upper>
          <effort>150</effort>
          <velocity>3.15</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name="forearm_link">
      <pose relative_to="elbow_joint">0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0.196125 0 -0 0</pose>
        <mass>2.275</mass>
        <inertia>
          <ixx>0.0312168</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0312168</iyy>
          <iyz>0</iyz>
          <izz>0.004095</izz>
        </inertia>
      </inertial>
      <collision name="forearm_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/forearm.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="forearm_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/forearm.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <self_collide>1</self_collide>
    </link>
    <joint name="wrist_1_joint" type="revolute">
      <pose relative_to="forearm_link">0 0 0.39225 0 1.5708 0</pose>
      <parent>forearm_link</parent>
      <child>wrist_1_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-6.28319</lower>
          <upper>6.28319</upper>
          <effort>28</effort>
          <velocity>3.2</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name="wrist_1_link">
      <pose relative_to="wrist_1_joint">0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0.093 0 0 -0 0</pose>
        <mass>1.219</mass>
        <inertia>
          <ixx>0.0025599</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0025599</iyy>
          <iyz>0</iyz>
          <izz>0.0021942</izz>
        </inertia>
      </inertial>
      <collision name="wrist_1_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/wrist1.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="wrist_1_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/wrist1.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <self_collide>1</self_collide>
    </link>
    <joint name="wrist_2_joint" type="revolute">
      <pose relative_to="wrist_1_link">0 0.093 0 0 -0 0</pose>
      <parent>wrist_1_link</parent>
      <child>wrist_2_link</child>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-6.28319</lower>
          <upper>6.28319</upper>
          <effort>28</effort>
          <velocity>3.2</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name="wrist_2_link">
      <pose relative_to="wrist_2_joint">0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0 0.09465 0 -0 0</pose>
        <mass>1.219</mass>
        <inertia>
          <ixx>0.0025599</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0025599</iyy>
          <iyz>0</iyz>
          <izz>0.0021942</izz>
        </inertia>
      </inertial>
      <collision name="wrist_2_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/wrist2.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="wrist_2_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/wrist2.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <self_collide>1</self_collide>
    </link>
    <joint name="wrist_3_joint" type="revolute">
      <pose relative_to="wrist_2_link">0 0 0.09465 0 -0 0</pose>
      <parent>wrist_2_link</parent>
      <child>wrist_3_link</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-6.28319</lower>
          <upper>6.28319</upper>
          <effort>28</effort>
          <velocity>3.2</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
    </joint>
    <link name="wrist_3_link">
      <pose relative_to="wrist_3_joint">0 0 0 0 -0 0</pose>
      <inertial>
        <pose>0 0.06505 0 1.5708 -0 0</pose>
        <mass>0.1879</mass>
        <inertia>
          <ixx>8.46959e-05</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>8.46959e-05</iyy>
          <iyz>0</iyz>
          <izz>0.000132117</izz>
        </inertia>
      </inertial>
      <collision name="wrist_3_link_collision">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/collision/wrist3.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="wrist_3_link_visual">
        <geometry>
          <mesh>
            <uri>model://meshes/ur5/visual/wrist3.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <self_collide>1</self_collide>
    </link>

    <joint name="fl_caster_joint" type="revolute">
      <pose relative_to="fl_caster"/>
      <parent>chassis</parent>
      <child>fl_caster</child>
      <axis>
        <xyz expesses_in="__model__">0 0 1</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="fl_caster_wheel_joint" type="revolute">
      <pose relative_to="fl_wheel"/>
      <parent>fl_caster</parent>
      <child>fl_wheel</child>
      <axis>
        <xyz expesses_in="__model__">0 1 0</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="fr_caster_joint" type="revolute">
      <pose relative_to="fr_caster"/>
      <parent>chassis</parent>
      <child>fr_caster</child>
      <axis>
        <xyz expesses_in="__model__">0 0 1</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="fr_caster_wheel_joint" type="revolute">
      <pose relative_to="fr_wheel"/>
      <parent>fr_caster</parent>
      <child>fr_wheel</child>
      <axis>
        <xyz expesses_in="__model__">0 1 0</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="bl_caster_joint" type="revolute">
      <pose relative_to="bl_caster"/>
      <parent>chassis</parent>
      <child>bl_caster</child>
      <axis>
        <xyz expesses_in="__model__">0 0 1</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="bl_caster_wheel_joint" type="revolute">
      <pose relative_to="bl_wheel"/>
      <parent>bl_caster</parent>
      <child>bl_wheel</child>
      <axis>
        <xyz expesses_in="__model__">0 1 0</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
      </joint>

    <joint name="br_caster_joint" type="revolute">
      <pose relative_to="br_caster"/>
      <parent>chassis</parent>
      <child>br_caster</child>
      <axis>
        <xyz expesses_in="__model__">0 0 1</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="br_caster_wheel_joint" type="revolute">
      <pose relative_to="br_wheel"/>
      <parent>br_caster</parent>
      <child>br_wheel</child>
      <axis>
        <xyz expesses_in="__model__">0 1 0</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>

    <joint name="l_act_wheel_joint" type="revolute">
      <pose relative_to="l_act_wheel"/>
      <parent>chassis</parent>
      <child>l_act_wheel</child>
      <axis>
        <xyz expesses_in="__model__">0 1 0</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>
    
    <joint name="r_act_wheel_joint" type="revolute">
      <pose relative_to="r_act_wheel"/>
      <parent>chassis</parent>
      <child>r_act_wheel</child>
      <axis>
        <xyz expesses_in="__model__">0 1 0</xyz>
        <limit>
          <lower>-1.7e+300</lower>
          <upper>1.7e+300</upper>
        </limit>
      </axis>
    </joint>
    
    <joint name="closset_joint" type="fixed">
      <pose relative_to="closset"/>
      <parent>chassis</parent>
      <child>closset</child>
    </joint>

    <joint name="f_laser_joint" type="fixed">
      <pose relative_to="f_laser_link"/>
      <parent>chassis</parent>
      <child>f_laser_link</child>
    </joint>

    <joint name="b_laser_joint" type="fixed">
      <pose relative_to="b_laser_link"/>
      <parent>chassis</parent>
      <child>b_laser_link</child>
    </joint>


    <joint name="ur_base_joint" type="fixed">
      <pose relative_to="base_link"/>
      <parent>closset</parent>
      <child>base_link</child>
    </joint>

    <plugin
      filename="libignition-gazebo-diff-drive-system.so"
      name="ignition::gazebo::systems::DiffDrive">
      <left_joint>l_act_wheel_joint</left_joint>
      <right_joint>r_act_wheel_joint</right_joint>
      <wheel_separation>0.444</wheel_separation>
      <wheel_radius>0.0625</wheel_radius> 
      <!-- wheel radius from https://howtorobot.com/sites/default/files/2021-02/MiR100%E2%84%A2%20_%20Mobile%20Industrial%20Robots_0.pdf -->
      <odom_publish_frequency>50</odom_publish_frequency>
      <topic>cmd_vel</topic>
      <odom_topic>odom</odom_topic>
      
    </plugin>


    <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
      <topic>shoulder_pan_joint_cmd</topic>
      <joint_name>shoulder_pan_joint</joint_name>
      <p_gain>1000.0</p_gain>
      <i_gain>10.0</i_gain>
      <d_gain>150.0</d_gain>
      <i_max>1.0</i_max>
      <i_min>-1.0</i_min>
    </plugin>
    <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
      <topic>shoulder_lift_joint_cmd</topic>
      <joint_name>shoulder_lift_joint</joint_name>
      <p_gain>5000.0</p_gain>
      <i_gain>10.0</i_gain>
      <d_gain>150.0</d_gain>
      <i_max>50.0</i_max>
      <i_min>-50.0</i_min>
    </plugin>
    <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
      <topic>elbow_joint_cmd</topic>
      <joint_name>elbow_joint</joint_name>
      <p_gain>1000.0</p_gain>
      <i_gain>10.0</i_gain>
      <d_gain>150.0</d_gain>
      <i_max>25.0</i_max>
      <i_min>-25.0</i_min>
    </plugin>
    <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
      <topic>wrist_1_joint_cmd</topic>
      <joint_name>wrist_1_joint</joint_name>
      <p_gain>20.0</p_gain>
      <i_gain>1.0</i_gain>
      <d_gain>0.2</d_gain>
      <i_max>1.0</i_max>
      <i_min>-1.0</i_min>
    </plugin>
    <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
      <topic>wrist_2_joint_cmd</topic>
      <joint_name>wrist_2_joint</joint_name>
      <p_gain>20.0</p_gain>
      <i_gain>1.0</i_gain>
      <d_gain>0.2</d_gain>
      <i_max>1.0</i_max>
      <i_min>-1.0</i_min>
    </plugin>
    <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
      <topic>wrist_3_joint_cmd</topic>
      <joint_name>wrist_3_joint</joint_name>
      <p_gain>20.0</p_gain>
      <i_gain>1.0</i_gain>
      <d_gain>0.2</d_gain>
      <i_max>1.0</i_max>
      <i_min>-1.0</i_min>
    </plugin>
    <!--joint state publisher-->
    <plugin filename="ignition-gazebo-joint-state-publisher-system" name="ignition::gazebo::systems::JointStatePublisher">
      <joint_name>shoulder_pan_joint</joint_name>
      <joint_name>shoulder_lift_joint</joint_name>
      <joint_name>elbow_joint</joint_name>
      <joint_name>wrist_1_joint</joint_name>
      <joint_name>wrist_2_joint</joint_name>
      <joint_name>wrist_3_joint</joint_name>
      
      <joint_name>fl_caster_joint</joint_name>
      <joint_name>fl_caster_wheel_joint</joint_name>
      <joint_name>fr_caster_joint</joint_name>
      <joint_name>fr_caster_wheel_joint</joint_name>
      <joint_name>bl_caster_joint</joint_name>
      <joint_name>bl_caster_wheel_joint</joint_name>
      <joint_name>br_caster_joint</joint_name>
      <joint_name>br_caster_wheel_joint</joint_name>

      <joint_name>l_act_wheel_joint</joint_name>
      <joint_name>r_act_wheel_joint</joint_name>

      <joint_name>f_laser_joint</joint_name>
      <joint_name>b_laser_joint</joint_name> 
      <joint_name>closset_joint</joint_name>
      <topic>joint_states</topic>
    </plugin>
  </model>
</sdf>
